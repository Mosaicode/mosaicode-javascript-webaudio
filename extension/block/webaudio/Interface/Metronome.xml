<?xml version="1.0" encoding="utf-8"?>
<MosaicodeBlock color="150:150:250:150" extension="webaudio" group="Interface" help="Metronome" label="Metronome" language="javascript" type="mosaicode_lib_javascript_webaudio.extensions.blocks.Sound.metronome">
 <onload value=""/>
 <execution value="
function timeout_$id$_value(){
    for (var i = 0; i &lt; $port[float]$.length ; i++){
        $port[float]$[i](block_$id$_value);
    }
    block_$id$_timeout = setTimeout(timeout_$id$_value, block_$id$_time);
};
"/>
 <declaration value="
// block_$id$ = Float Value
var block_$id$_timeout;
var block_$id$_value = $prop[value]$;
var block_$id$_time = $prop[time]$;
var $port[float]$ = [];

var $port[start]$ = function(value){
    timeout_$id$_value();
    return true;
    };

var $port[stop]$ = function(value){
    if (value &gt; 0) {
    clearTimeout(block_$id$_timeout);
    }
    return true;
    };

"/>
 <properties>
  <property value="{'upper': 20000, 'lower': 0, 'name': 'value', 'value': 1, 'label': 'Value', 'step': 1, 'type': 'Float'}"/>
  <property value="{'upper': 20000, 'lower': 0, 'name': 'time', 'value': 1000, 'label': 'Time (ms)', 'step': 1, 'type': 'Float'}"/>
 </properties>
 <ports>
  <port conn_type="output" label="Float" name_="float" type_="mosaicode_lib_javascript_webaudio.extensions.ports.float"/>
  <port conn_type="input" label="Start" name_="start" type_="mosaicode_lib_javascript_webaudio.extensions.ports.float"/>
  <port conn_type="input" label="Stop" name_="stop" type_="mosaicode_lib_javascript_webaudio.extensions.ports.float"/>
 </ports>
</MosaicodeBlock>